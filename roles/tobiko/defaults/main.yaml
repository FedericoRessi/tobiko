---

# Tobiko workflow flags
tobiko_pre_run: true
tobiko_run: "{{ tobiko_run_tests or tobiko_run_faults }}"
tobiko_run_tests: true
tobiko_run_faults: false
tobiko_post_run: true


# Tobiko sources tobiko directory
tobiko_source_dir: "{{ role_path | dirname | dirname }}"
tobiko_dir: "{{ ansible_env.HOME }}/src/tobiko"
tobiko_user: "{{ ansible_user }}"


# Configuration options
tobiko_conf_file: /etc/tobiko/tobiko.conf
tobiko_default_conf:
  DEFAULT:
    debug: "{{ tobiko_debug }}"
    log_dir: "{{ tobiko_log_file | dirname }}"
    log_file: "{{ tobiko_log_file | basename }}"

tobiko_conf: {}


# Logging options
tobiko_debug: True
tobiko_log_file: "{{ tobiko_dir }}/tobiko.log"


# Output directories where tobiko should write to
tobiko_output_dirs:
  - "{{ tox_dir }}"
  - "{{ tobiko_log_file | dirname }}"
  - "{{ test_report_dir }}"


tobiko_become_user: ''


# Python parameteres
python_version: ''
python_command: "{{ tobiko_dir }}/tools/ci/python"


# Tobiko tox parameters
tox_dir: "{{ tobiko_dir }}"
tox_command: "{{ tobiko_dir }}/tools/ci/tox"
tox_envlist: scenario
tox_extra_args: ''
tox_posargs: ''


# Tobiko test report parameters
test_report_dir: "{{ tobiko_log_file | dirname }}"
test_report_prefix: tobiko_results_
test_report_name: "01_{{ tox_envlist }}"
collect_files_dir: "{{ zuul.executor.log_root }}"

compress_collected_files: false
compressed_files_suffix:
  "{% if (compress_collected_files | bool) %}.gz{% endif %}"
